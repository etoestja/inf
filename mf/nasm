NAME=solution
OBJECT=main.o

all: $(NAME)
$(NAME): $(OBJECT)
	gcc -m32 $(OBJECT) -o $@
%.o: %.asm
	nasm -felf $<
link: $(OBJECT)
	ld -melf_i386 $(OBJECT) -o $(NAME)
clean:
	rm -rf *.o
	rm -rf $(NAME)
test: testfile
	cat testfile | ./$(NAME)
